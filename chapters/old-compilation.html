<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" />

    <!-- Generated with Sphinx 5.0.2 and Furo 2023.03.27 -->
        <title>Compilation (old) - The Object Oriented Way</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">The Object Oriented Way</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">The Object Oriented Way</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="syntax.html">1. Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="hello-world.html">2. Hello world</a></li>
<li class="toctree-l1"><a class="reference internal" href="compilation.html">3. Compilation</a></li>
<li class="toctree-l1"><a class="reference internal" href="execution.html">4. Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpretation.html">5. Interpretation</a></li>
<li class="toctree-l1"><a class="reference internal" href="comments.html">6. Comments</a></li>
<li class="toctree-l1"><a class="reference internal" href="values.html">7. Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="variables.html">8. Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="constants.html">9. Constants</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-types.html">10. Data types</a></li>
<li class="toctree-l1"><a class="reference internal" href="expressions.html">11. Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="arithmetic-operators.html">12. Arithmetic operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="equality-operators.html">13. Equality operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="relational-operators.html">14. Relational operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="logical-operators.html">15. Logical operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="assignment-operator.html">16. Assignment operator</a></li>
<li class="toctree-l1"><a class="reference internal" href="precedence.html">17. Precedence</a></li>
<li class="toctree-l1"><a class="reference internal" href="associativity.html">18. Associativity</a></li>
<li class="toctree-l1"><a class="reference internal" href="statements.html">19. Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="type-inference.html">20. Type inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="type-checking.html">21. Type checking</a></li>
<li class="toctree-l1"><a class="reference internal" href="floating-point-types.html">22. Floating-point types</a></li>
<li class="toctree-l1"><a class="reference internal" href="enumeration-types.html">23. Enumeration types</a></li>
<li class="toctree-l1"><a class="reference internal" href="selection-statements.html">24. Selection statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="selection-expressions.html">25. Selection expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="iteration.html">26. Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="arrays.html">27. Arrays</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference-types.html">28. Reference types</a></li>
<li class="toctree-l1"><a class="reference internal" href="value-types.html">29. Value types</a></li>
<li class="toctree-l1"><a class="reference internal" href="local-functions.html">30. Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="recursion.html">31. Recursion</a></li>
<li class="toctree-l1"><a class="reference internal" href="objects.html">32. Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes.html">33. Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="fields.html">34. Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="instance-methods.html">35. Instance methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="properties.html">36. Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="constructors.html">37. Constructors</a></li>
<li class="toctree-l1"><a class="reference internal" href="static-classes.html">38. Static classes (Modules)</a></li>
<li class="toctree-l1"><a class="reference internal" href="static-methods.html">39. Static methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="static-variables.html">40. Static variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="static-constructors.html">41. Static constructors</a></li>
<li class="toctree-l1"><a class="reference internal" href="extension-methods.html">42. Extension methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="object-composition.html">43. Object composition</a></li>
<li class="toctree-l1"><a class="reference internal" href="concrete-constructed-object-composition.html">44. Concrete constructed object composition</a></li>
<li class="toctree-l1"><a class="reference internal" href="concrete-injected-object-composition.html">45. Concrete injected object composition</a></li>
<li class="toctree-l1"><a class="reference internal" href="interfaces.html">46. Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="subtype-polymorphism.html">47. Subtype polymorphism</a></li>
<li class="toctree-l1"><a class="reference internal" href="inheritance.html">48. Inheritance</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced-access-modifiers.html">49. Advanced access modifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="abstract-classes.html">50. Abstract classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="object-type-conversions.html">51. Type conversions (of objects)</a></li>
<li class="toctree-l1"><a class="reference internal" href="abstract-constructed-object-composition.html">52. Abstract constructed object composition</a></li>
<li class="toctree-l1"><a class="reference internal" href="abstract-injected-object-composition.html">53. Abstract injected object composition</a></li>
<li class="toctree-l1"><a class="reference internal" href="variance.html">54. Variance</a></li>
<li class="toctree-l1"><a class="reference internal" href="liskov-substitution-principle.html">55. Liskov substitution principle</a></li>
<li class="toctree-l1"><a class="reference internal" href="generics.html">56. Generics</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic-type-parameters.html">57. Generic type parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic-types.html">58. Generic types</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic-methods.html">59. Generic methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="type-parameter-constraints.html">60. Type parameter constraints</a></li>
<li class="toctree-l1"><a class="reference internal" href="variant-generic-interfaces.html">61. Variant generic interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="design-principles.html">62. Design principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="types-over-tests.html">63. Types over tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="single-responsibility-principle.html">64. Single responsibility principle</a></li>
<li class="toctree-l1"><a class="reference internal" href="interface-segregation-principle.html">65. Interface segregation principle</a></li>
<li class="toctree-l1"><a class="reference internal" href="deep-classes.html">66. Deep classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="define-errors-out-of-existence.html">67. Define errors out of existence</a></li>
<li class="toctree-l1"><a class="reference internal" href="open-closed-principle.html">68. Open-closed principle</a></li>
<li class="toctree-l1"><a class="reference internal" href="dependency-inversion-principle.html">69. Dependency inversion principle</a></li>
<li class="toctree-l1"><a class="reference internal" href="composition-over-inheritance.html">70. Composition over inheritance</a></li>
<li class="toctree-l1"><a class="reference internal" href="design-patterns.html">71. Design patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="strategy-pattern.html">72. Strategy pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="null-object-pattern.html">73. Null object pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="bridge-pattern.html">74. Bridge pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="delegates.html">75. Delegates</a></li>
<li class="toctree-l1"><a class="reference internal" href="observer-pattern.html">76. Observer pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="events.html">77. Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="adapter-pattern.html">78. Adapter pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="factory-method-pattern.html">79. Factory method pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="composite-pattern.html">80. Composite pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="state-pattern.html">81. State pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="iterator-pattern.html">82. Iterator pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="visitor-pattern.html">83. Visitor pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="pattern-matching.html">84. Pattern matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="lambdas.html">85. Lambdas</a></li>
<li class="toctree-l1"><a class="reference internal" href="linq.html">86. LINQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="abstraction.html">87. Abstraction / Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="indirection.html">88. Indirection</a></li>
<li class="toctree-l1"><a class="reference internal" href="business-logic.html">89. Business logic</a></li>
<li class="toctree-l1"><a class="reference internal" href="business-objects.html">90. Business objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">91. Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="reading.html">92. Suggested reading</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">93. Bibliography</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="compilation-old">
<h1>Compilation (old)<a class="headerlink" href="#compilation-old" title="Permalink to this heading">#</a></h1>
<p>A compiler is a program that translates code written in a source language to code written in a target language.
It is essentially a one-way translator.
In other words, a compiler translates text written in some syntax to text written in some other syntax.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>A compiler translates text written in some syntax to text written in some other syntax.</p>
</div>
<figure class="align-default" id="fig-compilation">
<img alt="https://via.placeholder.com/700x200?text=Image+coming+soon" src="https://via.placeholder.com/700x200?text=Image+coming+soon" />
<figcaption>
<p><span class="caption-text">A compiler translates code written in one language to code written in another language.</span><a class="headerlink" href="#fig-compilation" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>You will often hear people talk about “compiled” programming languages and “interpreted” programming languages.
However, in theory, a language isn’t <em>either</em> compiled or interpreted.
Interpreters and compilers can be built for any language.
A language is simply a language.
In practice, however, most languages are associated with either a compiler or interpreted.
This is why we in everyday language tend to refer to a language as being either compiled or interpreted.</p>
<div class="exercise admonition" id="chapters/old-compilation-exercise-0">

<p class="admonition-title"></p>
<section id="exercise-content">
<p>What is a compiler?</p>
</section>
</div>
<div class="exercise admonition" id="chapters/old-compilation-exercise-1">

<p class="admonition-title"></p>
<section id="exercise-content">
<p>In what sense is a language not <em>either</em> a compiled or an interpreted language?</p>
</section>
</div>
<section id="source-code">
<span id="machine-code"></span><h2>Source code<a class="headerlink" href="#source-code" title="Permalink to this heading">#</a></h2>
<p>The word “compiler” is usually used to describe programs that translate programs written in “high-level” languages, to programs written in “low-level” languages.
C#, the language used in this book, is, what’s known as, a “high-level programming language”.</p>
<p>Other examples of high-level languages are Haskell, Python, JavaScript, Java, Ruby, C, C++, R, and so forth.
The list goes on and include a vast array of modern programming languages.
Of course there are developers who work in low-level languages even today, but if you’re interested in taking that path then you’re reading the wrong book :)</p>
<!-- TODO: Write more about real-world use cases for low-level languages. -->
<p>If we had to write all our programs in binary there is simply no way that we would have gotten as far as we have today by this time.
As application level developers we don’t have to worry about machine code.
Instead we write our programs in high-level languages and use compilers or interpreters to convert our programs to machine code in order to allow them to be executed on actual machines.</p>
<p>When we write code in these high-level languages we are writing what is known as “source code”.
Files containing source code are known as “source files”.
Compilers are then used to convert the source code to machine code.
Source code is human readable and machine code is machine readable.</p>
<p>You might hear that C# is a compiled language.
However that is not entirely true.
It’s not as simple as pushing high-level C# code into a compiler and getting binary machine code out.
When you compile a C# program you don’t actually get a binary machine code file, you get code expressed in what’s known as an “intermediate language” which, given the existence of .NET’s Common Language Runtime (CLR) can be turned into machine code upon execution.
In the case of the .NET compiler this intermediate language is known as the Common Intermediate Language (CIL).</p>
<figure class="align-default" id="fig-net-compilation">
<img alt="https://via.placeholder.com/700x200?text=Image+coming+soon" src="https://via.placeholder.com/700x200?text=Image+coming+soon" />
<figcaption>
<p><span class="caption-text">Illustration of how .NET programs are converted to and executed as machine code.</span><a class="headerlink" href="#fig-net-compilation" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>So, it isn’t fair to call C# a compiled language.
When we run the executable, portions of the CIL code is converted to machine code by a Just-in-time (JIT) compiler inside the Common Language Runtime (CLR) which essentially is an <a class="reference internal" href="interpretation.html"><span class="doc std std-doc">interpreter</span></a>.
So while we often think of C# as a compiled language it is actually a mix of both.</p>
<p>Generally, we would refer to CIL code as “bytecode”.
Programs in many languages are converted to machine code in a way similar to this.
Have a look at <code class="xref std std-numref docutils literal notranslate"><span class="pre">fig:source-code-byte-code-machine-code</span></code>.
You write human-readable source code, the compiler compiles it machine-readable bytecode, and an interpreter runs the byte-code and coverts it to machine-readable machine code bit by bit as needed.</p>
<figure class="align-default" id="fig-source-code-byte-code-machine-code">
<img alt="https://via.placeholder.com/700x200?text=Image+coming+soon" src="https://via.placeholder.com/700x200?text=Image+coming+soon" />
<figcaption>
<p><span class="caption-text">A common pattern is to let a compiler compile source code into byte code, and then let an interpreter interpret byte code as machine code.</span><a class="headerlink" href="#fig-source-code-byte-code-machine-code" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<div class="exercise admonition" id="chapters/old-compilation-exercise-2">

<p class="admonition-title"></p>
<section id="exercise-content">
<p>In what sense is C# usually both compiled <em>and</em> interpreted?</p>
</section>
</div>
</section>
<section id="abstraction">
<h2>Abstraction<a class="headerlink" href="#abstraction" title="Permalink to this heading">#</a></h2>
<p>While the original idea of the compiler was to convert high-level languages to low-level languages it should be noted that the word “compiler” is certainly also used to describe programs that convert between high-level languages.</p>
<p>Consider for the languages TypeScript, ReasonML, and Elm.
All these three languages can be converted to the high-level language JavaScript by means of their respective compilers.</p>
<p>So the idea of compilers is deeper then simply not having to write machine code.
The idea is abstraction.
This is something we’ll talk a lot more about in later chapters since abstraction is an immensely important topic in programming.
The idea is to write programs in a language that’s sufficiently abstract so that we don’t have to worry about irrelevantly minute details.</p>
<p>Think back to the chapter on <a class="reference internal" href="algorithms.html#algorithms"><span class="std std-ref">algorithms</span></a>.
To be able to easily express an algorithm, you need a language that helps you focus on the details that matter.
If, for example, I’m writing a pancake batter recipe then I don’t want to have to concern myself with the fact that you have to move your hands in order to pick up the bowl.
Or the fact that you have to open up the milk carton if it’s not open.
Or fetch another carton of milk if the one you have ran out before you’ve managed to pour the expected amount into the bowl.
And so forth.
This is the idea of a high-level language, and this is the idea of abstractions.</p>
<div class="exercise admonition" id="chapters/old-compilation-exercise-3">

<p class="admonition-title"></p>
<section id="exercise-content">
<p>Why are compilers useful? Why don’t we just write programs in low-level languages?</p>
</section>
</div>
</section>
<section id="compile-time">
<h2>Compile-time<a class="headerlink" href="#compile-time" title="Permalink to this heading">#</a></h2>
<p>When something happens during or close to compilation and without running the program we refer to it as happening at “compile-time”.
What can we do at compile time beyond translating the source code from the input language to the output language?
We can check for errors in <a class="reference internal" href="syntax.html"><span class="doc std std-doc">syntax</span></a> and errors in <a class="reference internal" href="semantics.html"><span class="doc std std-doc">semantics</span></a>.</p>
<p>Much later we will talk about assessing program <span class="xref myst">correctness</span> but I want to mention here that if we are using, what is known as, formal methods to verify program correctness then this is a semantic error check that happens at compile-time.</p>
<p>Another semantic error check that we can do at compile-time is what’s known as automated “linting”.
Linting is the act of determining whether a program follows some agreed upon stylistic guidelines.</p>
<div class="exercise admonition" id="chapters/old-compilation-exercise-4">

<p class="admonition-title"></p>
<section id="exercise-content">
<p>What do we mean when we say that something happens at <em>compile-time</em> as opposed to at <em>run-time</em>?</p>
</section>
</div>
</section>
<section id="compilation-errors">
<h2>Compilation errors<a class="headerlink" href="#compilation-errors" title="Permalink to this heading">#</a></h2>
<p>There are plenty of mistakes that we can make that prevent our programs from compiling.
There are multiple ways of categorizing compilation errors but one way is to divide them into:</p>
<ul class="simple">
<li><p><a class="reference internal" href="syntax.html"><span class="doc std std-doc">Syntax</span></a> errors,</p></li>
<li><p><a class="reference internal" href="semantics.html"><span class="doc std std-doc">Semantic</span></a> errors, and</p></li>
</ul>
<p>Semantic errors checked for at compile-time is sometimes called “static semantic errors.”</p>
<p>If an error occurs when we are attempting to compile then it’s a compilation error, also known as compile-time error, since it occurred at compile-time.
If, on the contrary, an error occurs <em>when the program is running</em> then it’s a run-time error since it occurred during <a class="reference internal" href="execution.html"><span class="doc std std-doc">run-time</span></a>.</p>
<p>We will discuss types of syntax and semantic compilation errors and contrast them to run-time errors in more detail in the chapter on <span class="xref myst">errors</span>.</p>
<div class="exercise admonition" id="chapters/old-compilation-exercise-5">

<p class="admonition-title"></p>
<section id="exercise-content">
<p>What are compilation errors?</p>
</section>
</div>
</section>
<section id="dotnet-build">
<h2><code class="docutils literal notranslate"><span class="pre">dotnet</span> <span class="pre">build</span></code><a class="headerlink" href="#dotnet-build" title="Permalink to this heading">#</a></h2>
<p>Let’s take a simple example.
In this book we will incrementally work on project that we call “Translator”.
The program will be able to encode and decode strings of text using ciphers.
Let’s start.</p>
<p>Find a folder where you want to store your program and enter it on the command line by using the command <code class="docutils literal notranslate"><span class="pre">cd</span></code>.
Let us then create our empty C# program by running:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dotnet<span class="w"> </span>new<span class="w"> </span>console<span class="w"> </span>--name<span class="w"> </span>Translator
</pre></div>
</div>
<p>By passing the value <code class="docutils literal notranslate"><span class="pre">Translator</span></code> as the argument <code class="docutils literal notranslate"><span class="pre">--name</span></code> we tell the <code class="docutils literal notranslate"><span class="pre">dotnet</span></code> program that we want our application to be called <code class="docutils literal notranslate"><span class="pre">Translator</span></code>.
The <code class="docutils literal notranslate"><span class="pre">dotnet</span></code> command line program will create a new folder with the name <code class="docutils literal notranslate"><span class="pre">Translator</span></code> and generate all the files we need to get started in it.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Please refer to the <a class="reference external" href="https://docs.microsoft.com/en-us/dotnet/core/tools/dotnet-new">official documentation</a> for more information on the <code class="docutils literal notranslate"><span class="pre">dotnet</span> <span class="pre">new</span></code> command.</p>
</div>
<p>Let’s enter the folder that <code class="docutils literal notranslate"><span class="pre">dotnet</span></code> generated for us:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>Translator
</pre></div>
</div>
<p>and then issue the command <code class="docutils literal notranslate"><span class="pre">ls</span></code> to see what files were generated for us:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ls
</pre></div>
</div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Program.cs</span>
<span class="go">Translator.csproj</span>
<span class="go">obj</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Program.cs</span></code> is the main (and currently only) source file.
It defines the entry point of the program.
In other words, when we run the program, the code that’s in this file will be run.
The only line of code that it contains should be:</p>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Hello, World!&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p id="top-level-statements">Note how we said that the file <em>defines</em> the entry point of the program, not that it <em>is</em> the entry point.
This is due to something introduced in C# 10 and .NET 6 known as “top-level statements”.
The details of this are not relevant now and we’ll pick this discussion up again in the chapter on <a class="reference internal" href="static-classes.html#static-classes"><span class="std std-ref">static classes</span></a>.
However, you can think of the main file (<code class="docutils literal notranslate"><span class="pre">Program.cs</span></code>) as actually containing more code than you can see.
It’s as if the additional code is entered into the file automatically upon compilation.</p>
<p><code class="docutils literal notranslate"><span class="pre">Translator.csproj</span></code> is a configuration file for your project.
It does not contain source code, it contains what is known as “markup”.
The markup language in this case, happens to be called The Extensible Markup Language (XML).
The details of this file are not significant now but if you were to open it up I’m sure you’d be able to figure out how it, for example, specifies that the output of your project is an executable (<code class="docutils literal notranslate"><span class="pre">Exe</span></code>) file and what version of .NET you are using.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;Project</span><span class="w"> </span><span class="na">Sdk=</span><span class="s">&quot;Microsoft.NET.Sdk&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;PropertyGroup&gt;</span>
<span class="w">    </span><span class="nt">&lt;OutputType&gt;</span>Exe<span class="nt">&lt;/OutputType&gt;</span>
<span class="w">    </span><span class="nt">&lt;TargetFramework&gt;</span>net6.0<span class="nt">&lt;/TargetFramework&gt;</span>
<span class="w">    </span><span class="nt">&lt;ImplicitUsings&gt;</span>enable<span class="nt">&lt;/ImplicitUsings&gt;</span>
<span class="w">    </span><span class="nt">&lt;Nullable&gt;</span>enable<span class="nt">&lt;/Nullable&gt;</span>
<span class="w">  </span><span class="nt">&lt;/PropertyGroup&gt;</span>
<span class="nt">&lt;/Project&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">obj</span></code> is a folder that holds intermediary content that’s maintained and used by the compiler.
Don’t put any of your files in this folder since they might be overwritten by the compiler.</p>
<p>When you compile the project for the first time, it will also create another folder called <code class="docutils literal notranslate"><span class="pre">bin</span></code>.
The word “bin” is short for “binaries” which is a term that’s often used to describe files that are <em>not</em> source files or markup.
It refers to files that either contain bytecode or machine code.
Arguably, this is quite confusing since bytecode isn’t necessarily expressed in ones and zeroes.
Binaries may or may not be executable but the word is often used to refer to executables.</p>
<p>If we had not specified a name for our program, <code class="docutils literal notranslate"><span class="pre">dotnet</span></code> would have used the name of the folder we were in.
So if we wanted to we could just as well have created the folder ourselves like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>Translator<span class="w">     </span><span class="c1"># Create new directory</span>
<span class="nb">cd</span><span class="w"> </span>Translator<span class="w">        </span><span class="c1"># Open directory</span>
dotnet<span class="w"> </span>new<span class="w"> </span>console
</pre></div>
</div>
<p>In this case, we would first create a new folder, then enter the new folder, and then finally create a new program in the new folder with the same name as the folder.</p>
<p>We don’t need to specify explicitly that we want it to be a C# application since the <code class="docutils literal notranslate"><span class="pre">dotnet</span></code> program defaults to C#.
However, we could also use the <code class="docutils literal notranslate"><span class="pre">dotnet</span></code> program to create F# applications.</p>
<p>To compile this program we simply make sure that we are in the same folder as the C# project file (<code class="docutils literal notranslate"><span class="pre">.csproj</span></code>) and then issue the command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dotnet<span class="w"> </span>build
</pre></div>
</div>
<p>This will compile our program and if we haven’t introduced any errors when changing the program we should be met with a message that says:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Build succeeded.</span>
<span class="go">    0 Warning(s)</span>
<span class="go">    0 Error(s)</span>
</pre></div>
</div>
<p>In the folder <code class="docutils literal notranslate"><span class="pre">bin/Debug/net6.0/</span></code> the compiler should now have generated the following five files:</p>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">Translator.runtimeconfig.json</span>
<span class="go">Translator.dll</span>
<span class="go">Translator</span>
<span class="go">Translator.pdb</span>
<span class="go">Translator.deps.json</span>
</pre></div>
</div>
<p>The file <code class="docutils literal notranslate"><span class="pre">Translator.runtime.config.json</span></code> is a configuration file that specifies which runtime we are targeting, which in our case is .NET 6.
Think back to our discussion on the Common Language Runtime (CLR).
The existence of this file means that the program is assumed to not be “self-contained”.
A self-contained program can be run on a machine that doesn’t have access to the .NET runtime.
The file is a human-readable file expressed in the markup language JSON.</p>
<p>The file <code class="docutils literal notranslate"><span class="pre">Translator.dll</span></code> contains our actual application.
It is not executable in and of itself, and it is is expressed in CIL represented in hexadecimal format.
If you open up the file in a text editor you will see a bunch of hexadecimal codes, also known as hex.
We’ve discussed base 2 and base 10 number systems in the chapter on <a class="reference internal" href="computation.html#computation"><span class="std std-ref">computation</span></a>, hexadecimal is simply base 16.
It is possible to convert the DLL to more readable CIL code but that is beyond the scope of this book.</p>
<p>The file <code class="docutils literal notranslate"><span class="pre">Translator</span></code> is an executable file that we can run from the command line.
All this is an oversimplification, but in essence it invokes the runtime that’s specified in the configuration file passes the DLL to be interpreted.
The runtime will then run the program as we’ve discussed earlier in this chapter.
The file is expressed in hexadecimal format and its syntax is specific to some set of CPU architectures.</p>
<p>The file <code class="docutils literal notranslate"><span class="pre">Translator.pbd</span></code> contains information which helps the debugger match sections of the executable with section of source code.
While all the three previous files are required for your program to be runnable, this file is not.
However, it is needed if you want to debug your program.
The file is expressed in hexadecimal format.</p>
<p>The file <code class="docutils literal notranslate"><span class="pre">Translator.deps.json</span></code> simply contains information on any packages that your program might depend on.
If the user of your application is to be able to automatically install these dependencies then they need this file.
The file is a human-readable file expressed in the markup language JSON.</p>
<p>In the chapter on <a class="reference internal" href="execution.html"><span class="doc std std-doc">execution</span></a> we’ll return to this program and look at how to run it.
But I want to emphasize here that unless you compile, what is known as a, single-file application, you can not run your executable (<code class="docutils literal notranslate"><span class="pre">Translator</span></code>) without the runtime configuration file (<code class="docutils literal notranslate"><span class="pre">Translator.runtime.config.json</span></code>) and the actual application (<code class="docutils literal notranslate"><span class="pre">Translator.dll</span></code>).
So if you move your executable to a new folder you must also move these other two files along with it.</p>
<p>If delete the DLL and try to execute your application you are met with an error message that says that “the application to execute does not exist”.
If you delete the runtime configuration file and try to execute the application you are instead met with an error message that says that the application cannot be run since it was assumed to be a self-contained application but that it’s not actually self-contained.</p>
<p>It is certainly however possible to produce single-file executables in C#.
Note that there’s a difference between single-file and self-contained.
Self-contained means that you can run the application on machines that doesn’t have the .NET runtime (CLR) installed.
It essentially means that the CLR is included in the executable itself.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that single-file is not the same as self-contained.</p>
</div>
<p>Single-file however means that we don’t create a separate DLL, dependencies file, and executable.
All three are included in one.
Please refer to the official <a class="reference external" href="https://docs.microsoft.com/en-us/dotnet/core/deploying/single-file/">documentation</a> for more information on how to do create single-file applications.
To try it out you can however run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dotnet<span class="w"> </span>publish<span class="w"> </span>--use-current-runtime<span class="w"> </span>-p:PublishSingleFile<span class="o">=</span><span class="nb">true</span><span class="w"> </span>--self-contained<span class="w"> </span><span class="nb">false</span><span class="sb">`</span>
</pre></div>
</div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Compiling and executing your application can also be done via the graphical user inteface (GUI) if you are using Visual Studio. Please refer to the <a class="reference external" href="https://docs.microsoft.com/en-us/visualstudio/ide/?view=vs-2022">official documentation</a> for more information.</p>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./chapters"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>
        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Compilation (old)</a><ul>
<li><a class="reference internal" href="#source-code">Source code</a></li>
<li><a class="reference internal" href="#abstraction">Abstraction</a></li>
<li><a class="reference internal" href="#compile-time">Compile-time</a></li>
<li><a class="reference internal" href="#compilation-errors">Compilation errors</a></li>
<li><a class="reference internal" href="#dotnet-build"><code class="docutils literal notranslate"><span class="pre">dotnet</span> <span class="pre">build</span></code></a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/custom.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    </body>
</html>