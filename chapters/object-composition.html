<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="57. Concrete constructed object composition" href="concrete-constructed-object-composition.html" /><link rel="prev" title="55. Extension methods" href="extension-methods.html" />

    <!-- Generated with Sphinx 5.0.2 and Furo 2023.03.27 -->
        <title>56. Object composition - The Object Oriented Way</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">The Object Oriented Way</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">The Object Oriented Way</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="syntax.html">1. Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="hello-world.html">2. Hello world</a></li>
<li class="toctree-l1"><a class="reference internal" href="compilation.html">3. Compilation</a></li>
<li class="toctree-l1"><a class="reference internal" href="execution.html">4. Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpretation.html">5. Interpretation</a></li>
<li class="toctree-l1"><a class="reference internal" href="comments.html">6. Comments</a></li>
<li class="toctree-l1"><a class="reference internal" href="values.html">7. Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="variables.html">8. Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-types.html">9. Data types</a></li>
<li class="toctree-l1"><a class="reference internal" href="expressions.html">10. Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="arithmetic-operators.html">11. Arithmetic operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="equality-operators.html">12. Equality operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="relational-operators.html">13. Relational operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="logical-operators.html">14. Logical operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="assignment-operator.html">15. Assignment operator</a></li>
<li class="toctree-l1"><a class="reference internal" href="precedence.html">16. Precedence</a></li>
<li class="toctree-l1"><a class="reference internal" href="associativity.html">17. Associativity</a></li>
<li class="toctree-l1"><a class="reference internal" href="constants.html">18. Constants</a></li>
<li class="toctree-l1"><a class="reference internal" href="statements.html">19. Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="type-inference.html">20. Type inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="type-checking.html">21. Type checking</a></li>
<li class="toctree-l1"><a class="reference internal" href="floating-point-types.html">22. Floating-point types</a></li>
<li class="toctree-l1"><a class="reference internal" href="enumeration-types.html">23. Enumeration types</a></li>
<li class="toctree-l1"><a class="reference internal" href="selection-statements.html">24. Selection statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="selection-expressions.html">25. Selection expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="iteration.html">26. Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="arrays.html">27. Arrays</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference-types.html">28. Reference types</a></li>
<li class="toctree-l1"><a class="reference internal" href="value-types.html">29. Value types</a></li>
<li class="toctree-l1"><a class="reference internal" href="local-functions.html">30. Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="fat-arrows.html">31. Fat arrows</a></li>
<li class="toctree-l1"><a class="reference internal" href="recursion.html">32. Recursion</a></li>
<li class="toctree-l1"><a class="reference internal" href="objects.html">33. Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes.html">34. Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="access-modifiers.html">35. Access modifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="fields.html">36. Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="constructors.html">37. Constructors</a></li>
<li class="toctree-l1"><a class="reference internal" href="the-this-keyword.html">38. The <code class="docutils literal notranslate"><span class="pre">this</span></code> keyword</a></li>
<li class="toctree-l1"><a class="reference internal" href="instance-methods.html">39. Instance methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="encapsulation.html">40. Encapsulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto-implemented-properties.html">41. Auto-implemented properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="manually-implemented-properties.html">42. Manually implemented properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="object-initializers.html">43. Object initializers</a></li>
<li class="toctree-l1"><a class="reference internal" href="read-only-fields.html">44. Read-only fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="read-only-properties.html">45. Read-only properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="computed-properties.html">46. Computed properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="required-properties-and-fields.html">47. Required properties and fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="init-only-properties.html">48. Init-only properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="instance-method-overloading.html">49. Instance method overloading</a></li>
<li class="toctree-l1"><a class="reference internal" href="constructor-overloading.html">50. Constructor overloading</a></li>
<li class="toctree-l1"><a class="reference internal" href="static-fields.html">51. Static fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="static-constructors.html">52. Static constructors</a></li>
<li class="toctree-l1"><a class="reference internal" href="static-methods.html">53. Static methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="static-classes.html">54. Static classes (Modules)</a></li>
<li class="toctree-l1"><a class="reference internal" href="extension-methods.html">55. Extension methods</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">56. Object composition</a></li>
<li class="toctree-l1"><a class="reference internal" href="concrete-constructed-object-composition.html">57. Concrete constructed object composition</a></li>
<li class="toctree-l1"><a class="reference internal" href="concrete-injected-object-composition.html">58. Concrete injected object composition</a></li>
<li class="toctree-l1"><a class="reference internal" href="interfaces.html">59. Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="subtype-polymorphism.html">60. Subtype polymorphism</a></li>
<li class="toctree-l1"><a class="reference internal" href="inheritance.html">61. Inheritance</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced-access-modifiers.html">62. Advanced access modifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="abstract-classes.html">63. Abstract classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="object-type-conversions.html">64. Type conversions (of objects)</a></li>
<li class="toctree-l1"><a class="reference internal" href="abstract-constructed-object-composition.html">65. Abstract constructed object composition</a></li>
<li class="toctree-l1"><a class="reference internal" href="abstract-injected-object-composition.html">66. Abstract injected object composition</a></li>
<li class="toctree-l1"><a class="reference internal" href="variance.html">67. Variance</a></li>
<li class="toctree-l1"><a class="reference internal" href="liskov-substitution-principle.html">68. Liskov substitution principle</a></li>
<li class="toctree-l1"><a class="reference internal" href="generics.html">69. Generics</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic-type-parameters.html">70. Generic type parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic-types.html">71. Generic types</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic-methods.html">72. Generic methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="type-parameter-constraints.html">73. Type parameter constraints</a></li>
<li class="toctree-l1"><a class="reference internal" href="variant-generic-interfaces.html">74. Variant generic interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="design-principles.html">75. Design principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="types-over-tests.html">76. Types over tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="single-responsibility-principle.html">77. Single responsibility principle</a></li>
<li class="toctree-l1"><a class="reference internal" href="interface-segregation-principle.html">78. Interface segregation principle</a></li>
<li class="toctree-l1"><a class="reference internal" href="deep-classes.html">79. Deep classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="define-errors-out-of-existence.html">80. Define errors out of existence</a></li>
<li class="toctree-l1"><a class="reference internal" href="open-closed-principle.html">81. Open-closed principle</a></li>
<li class="toctree-l1"><a class="reference internal" href="dependency-inversion-principle.html">82. Dependency inversion principle</a></li>
<li class="toctree-l1"><a class="reference internal" href="composition-over-inheritance.html">83. Composition over inheritance</a></li>
<li class="toctree-l1"><a class="reference internal" href="design-patterns.html">84. Design patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="strategy-pattern.html">85. Strategy pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="null-object-pattern.html">86. Null object pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="bridge-pattern.html">87. Bridge pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="delegates.html">88. Delegates</a></li>
<li class="toctree-l1"><a class="reference internal" href="observer-pattern.html">89. Observer pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="events.html">90. Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="adapter-pattern.html">91. Adapter pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="factory-method-pattern.html">92. Factory method pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="composite-pattern.html">93. Composite pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="state-pattern.html">94. State pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="iterator-pattern.html">95. Iterator pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="visitor-pattern.html">96. Visitor pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="pattern-matching.html">97. Pattern matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="lambdas.html">98. Lambdas</a></li>
<li class="toctree-l1"><a class="reference internal" href="linq.html">99. LINQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="abstraction.html">100. Abstraction / Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="indirection.html">101. Indirection</a></li>
<li class="toctree-l1"><a class="reference internal" href="business-logic.html">102. Business logic</a></li>
<li class="toctree-l1"><a class="reference internal" href="business-objects.html">103. Business objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">104. Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="reading.html">105. Suggested reading</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">106. Bibliography</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="object-composition">
<h1><span class="section-number">56. </span>Object composition<a class="headerlink" href="#object-composition" title="Permalink to this heading">#</a></h1>
<section id="motivation">
<h2><span class="section-number">56.1. </span>Motivation<a class="headerlink" href="#motivation" title="Permalink to this heading">#</a></h2>
<p><span class="xref myst">Composition</span> is the act of combining simple things into more complex things in order to solve complex problems.
In procedural programming we compose procedures (which in C# is known as <a class="reference internal" href="static-methods.html"><span class="doc std std-doc">static methods</span></a>), in <a class="reference internal" href="paradigms.html"><span class="doc std std-doc">functional programming</span></a> we compose functions, and in object oriented programming we compose objects.
So if objects are the “building blocks” in object oriented programming then how do we actually build programs using these blocks?
How do we actually compose objects?</p>
</section>
<section id="definition">
<h2><span class="section-number">56.2. </span>Definition<a class="headerlink" href="#definition" title="Permalink to this heading">#</a></h2>
<p>In object oriented programming, composition is a binary, <em>directed relationship</em>.
We say that one object “has a” reference to another object.
Just because I consider myself your friend, doesn’t necessarily mean that you consider yourself my friend.
Object composition is not necessarily a two way street.
So if all we know is that object <code class="docutils literal notranslate"><span class="pre">a</span></code> has a reference to object <code class="docutils literal notranslate"><span class="pre">b</span></code> then we don’t know whether object <code class="docutils literal notranslate"><span class="pre">b</span></code> also has a reference to object <code class="docutils literal notranslate"><span class="pre">a</span></code>.</p>
<p>If object <code class="docutils literal notranslate"><span class="pre">a</span></code> has a field or property that contains an object of type <code class="docutils literal notranslate"><span class="pre">b</span></code> then we say that <code class="docutils literal notranslate"><span class="pre">a</span></code> “has-a” <code class="docutils literal notranslate"><span class="pre">b</span></code>.
We say that <code class="docutils literal notranslate"><span class="pre">a</span></code> is composed with <code class="docutils literal notranslate"><span class="pre">b</span></code>.
We refer to <code class="docutils literal notranslate"><span class="pre">a</span></code> as the composing object and <code class="docutils literal notranslate"><span class="pre">b</span></code> as the composed object.</p>
<p>The objects involved in a composition could be of the same type or of different types.
While we call it “object composition”, in a class based object oriented language, we define compositions on the class level.
So the terms “composition” and “has-a” is also used on the type level.
This means that if we define a type <code class="docutils literal notranslate"><span class="pre">A</span></code> such that it has an instance field or property of type <code class="docutils literal notranslate"><span class="pre">B</span></code> then we would say that <code class="docutils literal notranslate"><span class="pre">A</span></code> has-a <code class="docutils literal notranslate"><span class="pre">B</span></code> and we would refer to this as object composition.</p>
<section id="uml-association">
<h3><span class="section-number">56.2.1. </span>UML association<a class="headerlink" href="#uml-association" title="Permalink to this heading">#</a></h3>
<p>In UML class diagrams we refer to object composition as “association” and we draw it using an arrow shaped as in <a class="reference internal" href="#fig-uml-class-diagram-association-arrow"><span class="std std-numref">Fig. 56.1</span></a>.
The arrow is pointing from the type that has a reference to the type that it has a reference to.
In the case of <a class="reference internal" href="algorithms.html#towers-of-hanoi"><span class="std std-ref">Towers of Hanoi</span></a>, <code class="docutils literal notranslate"><span class="pre">Rod</span></code> is pointing towards <code class="docutils literal notranslate"><span class="pre">Disk</span></code> since <code class="docutils literal notranslate"><span class="pre">Rod</span></code> may have references to <code class="docutils literal notranslate"><span class="pre">Disk</span></code>s.</p>
<figure class="align-default" id="fig-uml-class-diagram-association-arrow">
<a class="reference internal image-reference" href="https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Uml_classes_en.svg/800px-Uml_classes_en.svg.png"><img alt="https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Uml_classes_en.svg/800px-Uml_classes_en.svg.png" src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Uml_classes_en.svg/800px-Uml_classes_en.svg.png" style="width: 300px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 56.1 </span><span class="caption-text">In UML class diagram notation, object composition is called “association” and is depicted using a solid line with a line arrow head.
The arrow points from the composing object to the composed.
[<a class="reference external" href="https://en.wikipedia.org/wiki/Class_diagram">Image source</a>].</span><a class="headerlink" href="#fig-uml-class-diagram-association-arrow" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Later, we will learn about another relationship, that we call “is-a”.
Understanding the difference between “has-a” and “is-a” is crucial for understanding simpler topics such as <a class="reference internal" href="dependency-injection.html"><span class="doc std std-doc">dependency injection</span></a> and more complex topics such as <a class="reference internal" href="design-patterns.html"><span class="doc std std-doc">design patterns</span></a>.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>┌──────────────────────────┐      ┌─────────────────┐
│            Rod           │      │      Disk       │
├──────────────────────────┤      ├─────────────────┤
│ - disks : Disk[]         ├─────&gt;│ + Color : Color │
├──────────────────────────┤      ├─────────────────┤
│ + Add (disk:Disk) : void │      │                 │
│ + Sub (disk:Disk) : void │      │                 │
└──────────────────────────┘      └─────────────────┘
</pre></div>
</div>
<p>Composing two classes means that they are in a directed has-a relationship with each other where objects of one type will have a reference to objects of the other type but not necessarily the other way around. Given the diagram above, <code class="docutils literal notranslate"><span class="pre">Rod</span></code> has <code class="docutils literal notranslate"><span class="pre">Disk</span></code> but the reverse is not true.</p>
<p>UML divides the concept of association into two types that they call “aggregation” and “composition”.
Unfortunately the term “composition” in UML class diagrams doesn’t mean the same thing as “object composition” that we’re discussing here.
Fortunately, we will not discuss association aggregation and association composition in this book so hopefully we can leave this confusion behind.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Object composition correspond to the UML class diagram term known as “association”.
One form of association is composition.
Unfortunately, the term “composition” does not mean the same thing in the context of UML class diagrams as in the context of object oriented programming.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>If you want to learn more about the UML class diagram concepts aggregation and composition, check out the <a class="reference external" href="https://en.wikipedia.org/wiki/Class_diagram">Wikipedia</a> page on UML class diagrams.</p>
</div>
</section>
<section id="abstraction-levels">
<span id="object-composition-abstraction-levels"></span><h3><span class="section-number">56.2.2. </span>Abstraction levels<a class="headerlink" href="#abstraction-levels" title="Permalink to this heading">#</a></h3>
<p>We’re going to talk about four kinds of, let’s call them, “abstraction levels” of object composition.
I like to call these levels:</p>
<ul class="simple">
<li><p><a class="reference internal" href="concrete-constructed-object-composition.html"><span class="doc std std-doc"><strong>Concrete constructed</strong> object composition</span></a>.</p></li>
<li><p><a class="reference internal" href="concrete-injected-object-composition.html"><span class="doc std std-doc"><strong>Concrete injected</strong> object composition</span></a>.</p></li>
<li><p><a class="reference internal" href="abstract-constructed-object-composition.html"><span class="doc std std-doc"><strong>Abstract constructed</strong> object composition</span></a>.</p></li>
<li><p><a class="reference internal" href="abstract-injected-object-composition.html"><span class="doc std std-doc"><strong>Abstract injected</strong> object composition</span></a></p></li>
</ul>
<p>These four levels are <em>not</em> well established terms to describe types of composition.
I’m suggesting this division as a way to make sense of the term “object composition” which ambigiously tend to refer to all four levels.
It will also help us understand how object composition relates to <a class="reference internal" href="dependency-inversion-principle.html"><span class="doc std std-doc">dependency injection and inversion</span></a> which is something that we’ll talk about in a coming chapter.
In short, levels 3 and 4 are forms of dependency injection, meaning ways to invert dependencies.</p>
<p>We’re only going to deal with concrete object composition in the following chapters, and only after we’ve covered some more ground will we talk about abstract composition.</p>
<p>So what do these levels actually mean?
Well, there are two basic questions we’re asking when classifying a case of object composition.
The questions are also visualized as a quadrant diagram in <a class="reference internal" href="#composition-quadrants"><span class="std std-numref">Table 56.1</span></a>.</p>
<ol class="arabic simple">
<li><p>Is the compile-time type of the composed object <em>concrete</em> or <em>abstract</em>?</p></li>
<li><p>Is the composed object <em>constructed</em> or <em>injected</em>?</p></li>
</ol>
<p>The word “concrete” in the first question basically refers to classes.
While the word “abstract” basically refers to interfaces, and abstract classes.
Meaning types that cannot be instantiated.</p>
<p>The word “constructed” means that the object in question (or some dependency that the object has constructed) <em>instantiates</em> the composed object.
The word “injected” on the other hand means that the object in question (or some dependency that was injected to the object) receives the composed object as an argument through the constructor, a property, or a method.</p>
<p>If the answer to the second question is that the object is injected then this is a form of “<a class="reference internal" href="dependency-inversion-principle.html"><span class="doc std std-doc">dependency injection</span></a>”.
But again, we’ll discuss this more in a future chapter.</p>
<div class="table-wrapper colwidths-auto docutils container" id="composition-quadrants">
<table class="docutils align-default" id="composition-quadrants">
<caption><span class="caption-number">Table 56.1 </span><span class="caption-text">Quadrant diagram of abstraction levels in object composition.</span><a class="headerlink" href="#composition-quadrants" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head text-left"><p></p></th>
<th class="head text-left"><p>CONSTRUCTED</p></th>
<th class="head text-left"><p>INJECTED</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><strong>CONCRETE</strong></p></td>
<td class="text-left"><p></p></td>
<td class="text-left"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>ABSTRACT</strong></p></td>
<td class="text-left"><p></p></td>
<td class="text-left"><p></p></td>
</tr>
</tbody>
</table>
</div>
<p>But wait a minute, you might ask.
Aren’t all types concrete types?
What do we mean when we say that a type is “abstract”?
What’s an example of a non-concrete type?
Well, hold your horses my friend.
We haven’t talked about object oriented abstractions yet but we’ll get there very soon.
To understand what an abstract type is we must first understand
<a class="reference internal" href="interfaces.html"><span class="doc std std-doc">interfaces</span></a>,
<a class="reference internal" href="inheritance.html"><span class="doc std std-doc">inheritance</span></a>,
and <a class="reference internal" href="subtype-polymorphism.html"><span class="doc std std-doc">subtype polymorphism</span></a>.
This is why we, in the coming chapters, will stick to <em>concrete</em> object composition.
Then we we will deal with understanding what abstract types are.
Only after that will we finally deal with <em>abstract</em> object composition.
So let’s take it one step at a time.</p>
<p>Also, don’t worry if all this seems overwhelming.
We will deal with all forms of object composition one by one.
So by the end of it you’ll be an object composition master.
Do not go gentle in to that good night.</p>
</section>
</section>
<section id="examples">
<h2><span class="section-number">56.3. </span>Examples<a class="headerlink" href="#examples" title="Permalink to this heading">#</a></h2>
<p>We could for example say that the type <code class="docutils literal notranslate"><span class="pre">Player</span></code> has a <code class="docutils literal notranslate"><span class="pre">Position</span></code>, or that <code class="docutils literal notranslate"><span class="pre">Animal</span></code> has a <code class="docutils literal notranslate"><span class="pre">Behavior</span></code>.</p>
<section id="stars">
<h3><span class="section-number">56.3.1. </span>Stars<a class="headerlink" href="#stars" title="Permalink to this heading">#</a></h3>
<p>We’ve talked a lot about geometric shapes.
Think about a six-pointed star.
A six-pointed star can be created by overlaying one triangle over another.
The second triangle must be rotated 180 degrees and vertically translated.</p>
<p>A six-point star can thus be seen as a composition of two triangles.
We could define a class called <code class="docutils literal notranslate"><span class="pre">Star</span></code> which <em>has</em> two instance fields of type <code class="docutils literal notranslate"><span class="pre">Triangle</span></code>.</p>
</section>
<section id="towers-of-hanoi">
<h3><span class="section-number">56.3.2. </span>Towers of Hanoi<a class="headerlink" href="#towers-of-hanoi" title="Permalink to this heading">#</a></h3>
<p>Remember the <a class="reference internal" href="algorithms.html#towers-of-hanoi"><span class="std std-ref">Towers of Hanoi</span></a>?
We might build a system where <code class="docutils literal notranslate"><span class="pre">Rod</span></code> has a <code class="docutils literal notranslate"><span class="pre">Disk</span></code>.
So, on the type level, types have “has-a”-relationships with other types.
But as we instantiate objects, our has-a relationships on the type level are turned into has-a relationships on the object level.
If <code class="docutils literal notranslate"><span class="pre">Rod</span></code> has <code class="docutils literal notranslate"><span class="pre">Disk</span></code> then this means that it is possible, but not necessary, for instances of <code class="docutils literal notranslate"><span class="pre">Rod</span></code> to have access to an object or multiple objects of type <code class="docutils literal notranslate"><span class="pre">Disk</span></code>.</p>
<p>Of course we could model the Towers of Hanoi so that, for example, <code class="docutils literal notranslate"><span class="pre">Disk</span></code> is in a has-a relationship with <code class="docutils literal notranslate"><span class="pre">Rod</span></code>.
As always, a domain can always be modeled in a multitude of different ways.
Each model has different drawbacks and benefits.
Letting <code class="docutils literal notranslate"><span class="pre">Rod</span></code>s have <code class="docutils literal notranslate"><span class="pre">Disk</span></code>s rather than the other way around does however seem quite intuitive.
You stick the disk onto the rod, so the rod <em>has</em> the disk.</p>
<p>Let’s exemplify the different abstract levels of object composition in the context of type types <code class="docutils literal notranslate"><span class="pre">Disk</span></code> and <code class="docutils literal notranslate"><span class="pre">Rod</span></code>.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p><strong>CONCRETE</strong></p></th>
<th class="head"><p><strong>ABSTRACT</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>CONSTRUCTED</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Rod</span></code> instantitates <code class="docutils literal notranslate"><span class="pre">Disk</span></code> and <code class="docutils literal notranslate"><span class="pre">Disk</span></code> is a class.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Rod</span></code> instantiates <code class="docutils literal notranslate"><span class="pre">Disk</span></code> and <code class="docutils literal notranslate"><span class="pre">Disk</span></code> is an interface.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>INJECTED</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Disk</span></code> is injected into <code class="docutils literal notranslate"><span class="pre">Rod</span></code> and <code class="docutils literal notranslate"><span class="pre">Disk</span></code> is a class.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Disk</span></code> is injected into <code class="docutils literal notranslate"><span class="pre">Rod</span></code> and <code class="docutils literal notranslate"><span class="pre">Disk</span></code> is an interface.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="exercises">
<h2><span class="section-number">56.4. </span>Exercises<a class="headerlink" href="#exercises" title="Permalink to this heading">#</a></h2>
<div class="exercise admonition" id="chapters/object-composition-exercise-0">

<p class="admonition-title"><span class="caption-number">Exercise 56.1 </span></p>
<section id="exercise-content">
<p>Draw the quadrant diagram of object composition abstraction levels.
Explain each quadrant in your own words and give an example in words.</p>
</section>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./chapters"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>
        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="concrete-constructed-object-composition.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><span class="section-number">57. </span>Concrete constructed object composition</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="extension-methods.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><span class="section-number">55. </span>Extension methods</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">56. Object composition</a><ul>
<li><a class="reference internal" href="#motivation">56.1. Motivation</a></li>
<li><a class="reference internal" href="#definition">56.2. Definition</a><ul>
<li><a class="reference internal" href="#uml-association">56.2.1. UML association</a></li>
<li><a class="reference internal" href="#abstraction-levels">56.2.2. Abstraction levels</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">56.3. Examples</a><ul>
<li><a class="reference internal" href="#stars">56.3.1. Stars</a></li>
<li><a class="reference internal" href="#towers-of-hanoi">56.3.2. Towers of Hanoi</a></li>
</ul>
</li>
<li><a class="reference internal" href="#exercises">56.4. Exercises</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="https://www.googletagmanager.com/gtag/js?id=G-V69WNXD095"></script>
    <script src="../_static/custom.js"></script>
    <script src="../_static/analytics.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    </body>
</html>