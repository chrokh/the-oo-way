<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="66. Properties" href="properties.html" /><link rel="prev" title="64. Access modifiers" href="basic-access-modifiers.html" />

    <!-- Generated with Sphinx 5.0.2 and Furo 2023.03.27 -->
        <title>65. Constructors - The Object Oriented Way</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">The Object Oriented Way</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">The Object Oriented Way</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="syntax.html">1. Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="hello-world.html">2. Hello world</a></li>
<li class="toctree-l1"><a class="reference internal" href="compilation.html">3. Compilation</a></li>
<li class="toctree-l1"><a class="reference internal" href="execution.html">4. Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpretation.html">5. Interpretation</a></li>
<li class="toctree-l1"><a class="reference internal" href="comments.html">6. Comments</a></li>
<li class="toctree-l1"><a class="reference internal" href="values.html">7. Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="variables.html">8. Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="constants.html">9. Constants</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-types.html">10. Data types</a></li>
<li class="toctree-l1"><a class="reference internal" href="expressions.html">11. Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="arithmetic-operators.html">12. Arithmetic operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="equality-operators.html">13. Equality operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="relational-operators.html">14. Relational operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="logical-operators.html">15. Logical operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="assignment-operator.html">16. Assignment operator</a></li>
<li class="toctree-l1"><a class="reference internal" href="precedence.html">17. Precedence</a></li>
<li class="toctree-l1"><a class="reference internal" href="associativity.html">18. Associativity</a></li>
<li class="toctree-l1"><a class="reference internal" href="statements.html">19. Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="type-inference.html">20. Type inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="type-checking.html">21. Type checking</a></li>
<li class="toctree-l1"><a class="reference internal" href="semantics.html">22. Semantics</a></li>
<li class="toctree-l1"><a class="reference internal" href="type-systems.html">23. Type systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="type-hierarchies.html">24. Type hierarchies</a></li>
<li class="toctree-l1"><a class="reference internal" href="type-testing.html">25. Type testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="simple-types.html">26. Simple types</a></li>
<li class="toctree-l1"><a class="reference internal" href="enums.html">27. Enums</a></li>
<li class="toctree-l1"><a class="reference internal" href="value-tuples.html">28. Value tuples</a></li>
<li class="toctree-l1"><a class="reference internal" href="arrays.html">29. Arrays</a></li>
<li class="toctree-l1"><a class="reference internal" href="selection.html">30. Selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="iteration.html">31. Iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="command-line-arguments.html">32. Command line arguments</a></li>
<li class="toctree-l1"><a class="reference internal" href="mutability.html">33. Mutability</a></li>
<li class="toctree-l1"><a class="reference internal" href="immutable-objects.html">34. Immutable objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="value-and-reference-semantics.html">35. Value and reference semantics</a></li>
<li class="toctree-l1"><a class="reference internal" href="nothingness.html">36. Nothingness</a></li>
<li class="toctree-l1"><a class="reference internal" href="methods.html">37. Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="method-composition.html">38. Method composition</a></li>
<li class="toctree-l1"><a class="reference internal" href="static-classes.html">39. Static classes (Modules)</a></li>
<li class="toctree-l1"><a class="reference internal" href="static-methods.html">40. Static methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="static-variables.html">41. Static variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="static-constructors.html">42. Static constructors</a></li>
<li class="toctree-l1"><a class="reference internal" href="purity.html">43. Purity</a></li>
<li class="toctree-l1"><a class="reference internal" href="overloading.html">44. Overloading</a></li>
<li class="toctree-l1"><a class="reference internal" href="recursion.html">45. Recursion</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-structures.html">46. Data structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="scope.html">47. Scope</a></li>
<li class="toctree-l1"><a class="reference internal" href="namespaces.html">48. Namespaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic-exceptions.html">49. Exceptions (part 1)</a></li>
<li class="toctree-l1"><a class="reference internal" href="stack-traces.html">50. Stack traces</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">51. Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="validation.html">52. Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="verification.html">53. Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="maintainability.html">54. Maintainability</a></li>
<li class="toctree-l1"><a class="reference internal" href="refactoring.html">55. Refactoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="coupling.html">56. Coupling</a></li>
<li class="toctree-l1"><a class="reference internal" href="dont-repeat-yourself.html">57. Don’t repeat yourself</a></li>
<li class="toctree-l1"><a class="reference internal" href="fail-fast.html">58. Fail fast</a></li>
<li class="toctree-l1"><a class="reference internal" href="objects.html">59. Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="instantiation.html">60. Instantiation</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes.html">61. Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="fields.html">62. Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="instance-methods.html">63. Instance methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic-access-modifiers.html">64. Access modifiers</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">65. Constructors</a></li>
<li class="toctree-l1"><a class="reference internal" href="properties.html">66. Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="extension-methods.html">67. Extension methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="object-composition.html">68. Object composition</a></li>
<li class="toctree-l1"><a class="reference internal" href="concrete-constructed-object-composition.html">69. Concrete constructed object composition</a></li>
<li class="toctree-l1"><a class="reference internal" href="concrete-injected-object-composition.html">70. Concrete injected object composition</a></li>
<li class="toctree-l1"><a class="reference internal" href="interfaces.html">71. Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="subtype-polymorphism.html">72. Subtype polymorphism</a></li>
<li class="toctree-l1"><a class="reference internal" href="inheritance.html">73. Inheritance</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced-access-modifiers.html">74. Advanced access modifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="abstract-classes.html">75. Abstract classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="object-type-conversions.html">76. Type conversions (of objects)</a></li>
<li class="toctree-l1"><a class="reference internal" href="abstract-constructed-object-composition.html">77. Abstract constructed object composition</a></li>
<li class="toctree-l1"><a class="reference internal" href="abstract-injected-object-composition.html">78. Abstract injected object composition</a></li>
<li class="toctree-l1"><a class="reference internal" href="variance.html">79. Variance</a></li>
<li class="toctree-l1"><a class="reference internal" href="liskov-substitution-principle.html">80. Liskov substitution principle</a></li>
<li class="toctree-l1"><a class="reference internal" href="generics.html">81. Generics</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic-type-parameters.html">82. Generic type parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic-types.html">83. Generic types</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic-methods.html">84. Generic methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="type-parameter-constraints.html">85. Type parameter constraints</a></li>
<li class="toctree-l1"><a class="reference internal" href="variant-generic-interfaces.html">86. Variant generic interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="design-principles.html">87. Design principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="types-over-tests.html">88. Types over tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="single-responsibility-principle.html">89. Single responsibility principle</a></li>
<li class="toctree-l1"><a class="reference internal" href="interface-segregation-principle.html">90. Interface segregation principle</a></li>
<li class="toctree-l1"><a class="reference internal" href="deep-classes.html">91. Deep classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="define-errors-out-of-existence.html">92. Define errors out of existence</a></li>
<li class="toctree-l1"><a class="reference internal" href="open-closed-principle.html">93. Open-closed principle</a></li>
<li class="toctree-l1"><a class="reference internal" href="dependency-inversion-principle.html">94. Dependency inversion principle</a></li>
<li class="toctree-l1"><a class="reference internal" href="composition-over-inheritance.html">95. Composition over inheritance</a></li>
<li class="toctree-l1"><a class="reference internal" href="design-patterns.html">96. Design patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="strategy-pattern.html">97. Strategy pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="null-object-pattern.html">98. Null object pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="bridge-pattern.html">99. Bridge pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="delegates.html">100. Delegates</a></li>
<li class="toctree-l1"><a class="reference internal" href="observer-pattern.html">101. Observer pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="events.html">102. Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="adapter-pattern.html">103. Adapter pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="factory-method-pattern.html">104. Factory method pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="composite-pattern.html">105. Composite pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="state-pattern.html">106. State pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="iterator-pattern.html">107. Iterator pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="visitor-pattern.html">108. Visitor pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="pattern-matching.html">109. Pattern matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="lambdas.html">110. Lambdas</a></li>
<li class="toctree-l1"><a class="reference internal" href="linq.html">111. LINQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="abstraction.html">112. Abstraction / Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="indirection.html">113. Indirection</a></li>
<li class="toctree-l1"><a class="reference internal" href="business-logic.html">114. Business logic</a></li>
<li class="toctree-l1"><a class="reference internal" href="business-objects.html">115. Business objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">116. Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="reading.html">117. Suggested reading</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">118. Bibliography</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="constructors">
<h1><span class="section-number">65. </span>Constructors<a class="headerlink" href="#constructors" title="Permalink to this heading">#</a></h1>
<section id="motivation">
<h2><span class="section-number">65.1. </span>Motivation<a class="headerlink" href="#motivation" title="Permalink to this heading">#</a></h2>
<p>Constructors solve two main problems.</p>
<ol class="arabic simple">
<li><p>They allow us to initialize the <a class="reference internal" href="fields.html"><span class="doc std std-doc">fields</span></a> (and <a class="reference internal" href="properties.html"><span class="doc std std-doc">properties</span></a> but we haven’t talked about those yet) of an object upon creation.</p></li>
<li><p>They allow us to validate whether it, in the current state of the world and given the data that we have been passed, is possible to create an instance of the object or not. This problem can generally be thought of as “validation” or “sanitization”.</p></li>
</ol>
<p>The second point is very important since it allows us to assume that any instance of a type actually is a valid instance of that type.
Remember the maxim of making impossible states impossible in the chapter on <a class="reference internal" href="types-over-tests.html"><span class="doc std std-doc">types over tests</span></a>?
We can use constructors to make sure that our application never contains an instance (meaning value) that’s nonsensical given the definition of that type.</p>
<p>Take the notion of vowels for example.
According to the <a class="reference internal" href="types-over-tests.html"><span class="doc std std-doc">bijection rule</span></a> or the notion of types over tests, it is not sensible to use a <code class="docutils literal notranslate"><span class="pre">char</span></code> to model vowels.
The two data types support different values and different operations.</p>
</section>
<section id="definition">
<h2><span class="section-number">65.2. </span>Definition<a class="headerlink" href="#definition" title="Permalink to this heading">#</a></h2>
<p>A constructor, in C#, is any method whose name is the same as the enclosing type (in this case: class) and that doesn’t specify a return type.
There is no need to specify a return type because a constructor always returns instances of the type in which it is defined.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>class [identifier]
{
  public [identifier] (&lt;[parameters]&gt;)
  {
  }
}
</pre></div>
</div>
<p>In the chapter on <a class="reference internal" href="classes.html"><span class="doc std std-doc">classes</span></a> we discussed the keyword <code class="docutils literal notranslate"><span class="pre">new</span></code> which is used to create instances of a class.
When we use the keyword <code class="docutils literal notranslate"><span class="pre">new</span></code> followed by a class name, a pair of parentheses, and possibly some arguments, then a constructor (that matches that list of arguments is called) is called and we get back an object of that type.</p>
<p>I say “a constructor” rather than “the constructor” since constructors support overloading and so a class might have any number of constructors.
More on that in a moment though.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Remember the <code class="docutils literal notranslate"><span class="pre">static</span></code> method <code class="docutils literal notranslate"><span class="pre">MakeCircle</span></code> from the chapter on <a class="reference internal" href="basic-access-modifiers.html#access-modifiers"><span class="std std-ref">access modifiers</span></a>?
The idea of that method is, metaphorically, not far away from the idea of a constructor.</p>
</div>
<section id="default-constructor">
<h3><span class="section-number">65.2.1. </span>Default constructor<a class="headerlink" href="#default-constructor" title="Permalink to this heading">#</a></h3>
<p>If we don’t define a constructor for a class in C# then it’s as if that class contains a constructor that takes no parameters and has no method body.
As soon as we define a constructor though, this empty and parameterless constructor is no longer implicitly created.</p>
<p>Remember how we, in the chapter on <a class="reference internal" href="fields.html"><span class="doc std std-doc">fields</span></a>, mentioned that instance fields in C# are automatically intialized to their default values unless we initialize them ourselves in the class or upon construction using an <a class="reference internal" href="fields.html#object-initializers"><span class="std std-ref">object initializer</span></a>?</p>
<p>Let’s get back to our good old trusted <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> example.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Rectangle</span>
<span class="p">{</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">Width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// Default value.</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">Height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// Default value.</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<div>
    <div id='dotnet-interactive-this-cell-2909.Microsoft.DotNet.Interactive.Http.HttpPort' style='display: none'>
        The below script needs to be able to find the current output cell; this is an easy method to get it.
    </div>
    <script type='text/javascript'>
async function probeAddresses(probingAddresses) {
    function timeout(ms, promise) {
        return new Promise(function (resolve, reject) {
            setTimeout(function () {
                reject(new Error('timeout'))
            }, ms)
            promise.then(resolve, reject)
        })
    }

    if (Array.isArray(probingAddresses)) {
        for (let i = 0; i < probingAddresses.length; i++) {

            let rootUrl = probingAddresses[i];

            if (!rootUrl.endsWith('/')) {
                rootUrl = `${rootUrl}/`;
            }

            try {
                let response = await timeout(1000, fetch(`${rootUrl}discovery`, {
                    method: 'POST',
                    cache: 'no-cache',
                    mode: 'cors',
                    timeout: 1000,
                    headers: {
                        'Content-Type': 'text/plain'
                    },
                    body: probingAddresses[i]
                }));

                if (response.status == 200) {
                    return rootUrl;
                }
            }
            catch (e) { }
        }
    }
}

function loadDotnetInteractiveApi() {
    probeAddresses(["http://10.1.0.219:2048/", "http://127.0.0.1:2048/"])
        .then((root) => {
        // use probing to find host url and api resources
        // load interactive helpers and language services
        let dotnetInteractiveRequire = require.config({
        context: '2909.Microsoft.DotNet.Interactive.Http.HttpPort',
                paths:
            {
                'dotnet-interactive': `${root}resources`
                }
        }) || require;

            window.dotnetInteractiveRequire = dotnetInteractiveRequire;

            window.configureRequireFromExtension = function(extensionName, extensionCacheBuster) {
                let paths = {};
                paths[extensionName] = `${root}extensions/${extensionName}/resources/`;
                
                let internalRequire = require.config({
                    context: extensionCacheBuster,
                    paths: paths,
                    urlArgs: `cacheBuster=${extensionCacheBuster}`
                    }) || require;

                return internalRequire
            };
        
            dotnetInteractiveRequire([
                    'dotnet-interactive/dotnet-interactive'
                ],
                function (dotnet) {
                    dotnet.init(window);
                },
                function (error) {
                    console.log(error);
                }
            );
        })
        .catch(error => {console.log(error);});
    }

// ensure `require` is available globally
if ((typeof(require) !==  typeof(Function)) || (typeof(require.config) !== typeof(Function))) {
    let require_script = document.createElement('script');
    require_script.setAttribute('src', 'https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js');
    require_script.setAttribute('type', 'text/javascript');
    
    
    require_script.onload = function() {
        loadDotnetInteractiveApi();
    };

    document.getElementsByTagName('head')[0].appendChild(require_script);
}
else {
    loadDotnetInteractiveApi();
}

    </script>
</div></div></div>
</div>
<p>Whenever we create an instance of the class <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code>, this empty (“bodiless”) and parameterless “default” constructor is run.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">Rectangle</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">();</span><span class="w"> </span><span class="c1">// This causes the constructor to be called.</span>
</pre></div>
</div>
</div>
</div>
<p>Since the empty constructor isn’t changing the value of any of the instance fields, the instantiated rectangle will contain whatever values we set as defaults.
As can be observed below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">r1</span><span class="p">.</span><span class="n">Width</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
</section>
<section id="parameterless-constructor">
<h3><span class="section-number">65.2.2. </span>Parameterless constructor<a class="headerlink" href="#parameterless-constructor" title="Permalink to this heading">#</a></h3>
<p>We can replace the implicitly generated empty constructor by defining our own empty constructor.
In this constructor we can do anything we want to do immediately following the creating of an object of the class in which we are defining it.</p>
<p>Previously we’ve initialized the <code class="docutils literal notranslate"><span class="pre">Width</span></code> and <code class="docutils literal notranslate"><span class="pre">Height</span></code> fields in the same place as where we’ve declared them.
However, we could also initially assign their values through the constructor.
It would look like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Rectangle</span>
<span class="p">{</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">Width</span><span class="p">;</span><span class="w">  </span><span class="c1">// No default needed.</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">Height</span><span class="p">;</span><span class="w"> </span><span class="c1">// No default needed.</span>

<span class="w">  </span><span class="c1">// This is the constructor.</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="nf">Rectangle</span><span class="w"> </span><span class="p">()</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">Width</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">;</span><span class="w">  </span><span class="c1">// Set default</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">Height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">;</span><span class="w">  </span><span class="c1">// Set default</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Notice how the compiler no longer warns us that <code class="docutils literal notranslate"><span class="pre">Width</span></code> and <code class="docutils literal notranslate"><span class="pre">Height</span></code> will be automatically initialized to the default values for their respective types as it did when discussing auto-initialization in the chapter on <a class="reference internal" href="fields.html#fields-default"><span class="std std-ref">fields</span></a>.
The compiler understands that <strong>all</strong> instances of type <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> will have values assigned to the fields <code class="docutils literal notranslate"><span class="pre">Width</span></code> and <code class="docutils literal notranslate"><span class="pre">Height</span></code> after construction.</p>
<p>How can it know that the fields will be assigned upon construction?
Because (1) a constructor is always run when an object is created, (2) we are assigning values in the only constructor that exists, and (3) there no longer exists an empty implicit constructor that doesn’t assign values.</p>
<p>If we now instantiate a <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> the constructor will be run and our object will get values assigned to its fields.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">Rectangle</span><span class="w"> </span><span class="n">rect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">();</span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">rect</span><span class="p">.</span><span class="n">Width</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;x&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rect</span><span class="p">.</span><span class="n">Height</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2x1
</pre></div>
</div>
</div>
</div>
</section>
<section id="constructor-parameters">
<h3><span class="section-number">65.2.3. </span>Constructor parameters<a class="headerlink" href="#constructor-parameters" title="Permalink to this heading">#</a></h3>
<p>Sometimes it’s easy to come up with a default value for an instance field and sometimes it’s not.
What if we don’t want to specify a default value for a field in our class?
Worse, what if there is <em>no default value that makes sense in our domain</em>?</p>
<p>Think about a type modeling employees for example.
If we want to model employees then we might say that it makes no sense to have an employee that doesn’t have a name.
If that is so then we should make it impossible to construct objects of type <code class="docutils literal notranslate"><span class="pre">Employee</span></code> that have no name.</p>
<p>Remember the maxim of <a class="reference internal" href="types-over-tests.html"><span class="doc std std-doc">making impossible states impossible</span></a>.
If it doesn’t make sense in the domain, then we shouldn’t allow it in our types.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>By declaring a constructor with some parameters we make it <strong>impossible to instantiate</strong> the class <strong>without passing arguments for those parameters.</strong></p>
</div>
<p>Said differently, a class with no empty constructor <strong>guarantees</strong> that all objects of the type that the class defines were originally created with arguments passed for whatever parameters one of the other constructors required.</p>
<p>Remember what we said about the default constructor?
An empty, parameterless constructor isn’t implicitly added to your class if you define a constructor.
However, to construct an instance of a class, we must run a constructor.
So, if there is only one constructor in a class, and that constructor takes some parameters, then it is impossible to create an instance of that class without also providing arguments for those parameters.</p>
<p>By using constructors we can force anyone who wants to create an instance of the class to have to specify the width and height of the rectangle.
It would look like this.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Rectangle</span>
<span class="p">{</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">;</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// This is the constructor.</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="nf">Rectangle</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="p">)</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">width</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">width</span><span class="p">;</span><span class="w">  </span><span class="c1">// Assigns input argument to field.</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">height</span><span class="p">;</span><span class="w"> </span><span class="c1">// Assigns input argument to field.</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Print</span><span class="w"> </span><span class="p">()</span>
<span class="w">    </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;x&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">height</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Remember, now that we’ve defined a constructor ourselves, the C# compiler no longer automatically creates an empty constructor for us.
The <em>only</em> way to construct a <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> is now via the constructor that has two parameters.</p>
<p>In the code above, we’ve declared a constructor with two parameters of type <code class="docutils literal notranslate"><span class="pre">int</span></code>.
The two parameters are named <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>.
In the body of the constructor, meaning the implementation of the constructor, we take these two arguments and assign them to our instance fields called <code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Remember the keyword <code class="docutils literal notranslate"><span class="pre">this</span></code> that we’ve talked about <a class="reference internal" href="instance-methods.html#keyword-this"><span class="std std-ref">earlier</span></a>?
In the case of an instance method, it is a reference to the object upon which the instance method was called.
In the case of a constructor, it is a reference to the object that was just created.</p>
</div>
</section>
<section id="invocation">
<h3><span class="section-number">65.2.4. </span>Invocation<a class="headerlink" href="#invocation" title="Permalink to this heading">#</a></h3>
<p>How do we run the constructor?
When do we pass these arguments?
Well, we pass the arguments when we instantiate the class.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">Rectangle</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">20</span><span class="p">);</span>
<span class="n">Rectangle</span><span class="w"> </span><span class="n">r3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">);</span>

<span class="n">r2</span><span class="p">.</span><span class="n">Print</span><span class="p">();</span>
<span class="n">r3</span><span class="p">.</span><span class="n">Print</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>10x20
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4x5
</pre></div>
</div>
</div>
</div>
<p>Notice how it is no longer possible to instantiate a <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> without also passing arguments to the constructor.
If we try to do that, then we get a compiler error.</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">Rectangle</span><span class="w"> </span><span class="n">r4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">();</span><span class="w"> </span><span class="c1">// Will not compile.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(1,20): error CS7036: There is no argument given that corresponds to the required parameter &#39;width&#39; of &#39;Rectangle.Rectangle(int, int)&#39;
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<p>We’ve removed the empty constructor and there’s now only a single constructor that has two parameters.
A constructor is a method, and to call the method we must supply arguments for all its parameters.</p>
<p>This means that we can guarantee that anytime we have an instance of type <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> it was instantiated with some intial values that whoever instantiated the class chose.</p>
<p>However, had we made the <a class="reference internal" href="basic-access-modifiers.html#access-modifiers"><span class="std std-ref">access modifiers</span></a> of the instance fields <code class="docutils literal notranslate"><span class="pre">public</span></code> then we could <em>not</em> guarantee that any instance of type <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> will at all times have a size that “makes sense” in our domain since the fields would then be <a class="reference internal" href="mutability.html"><span class="doc std std-doc">mutable</span></a>.</p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Be weary of mutating fields and properties.
Follow the principle of information hiding.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>To achieve information hiding we must also make our fields <code class="docutils literal notranslate"><span class="pre">private</span></code>.
By never exposing our encapsulated data we can guarantee that all objects of some type always have data that is “valid” in our domain.
This is <em>tremendously</em> valuable.</p>
</div>
<p>Notice that we, as discussed in the chapter on <a class="reference internal" href="basic-access-modifiers.html#access-modifiers"><span class="std std-ref">access modifiers</span></a>, loose the ability to use the object initializer syntax when switching to <code class="docutils literal notranslate"><span class="pre">private</span></code> fields.
However, when switching to constructors we get way more in return.
We gain a higher level of correctness and expressivity for our types.
We can now express classes whose instances are always valid instances according to our specification of that type.</p>
</section>
<section id="expression-bodied-members">
<h3><span class="section-number">65.2.5. </span>Expression-bodied members<a class="headerlink" href="#expression-bodied-members" title="Permalink to this heading">#</a></h3>
<p>As mentioned in an earlier chapter, constructors support the C# feature known as expression-bodied members.
This means that if we have a constructor whose implementation can be expressed as a single expression, then we can omit the curly braces (<code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">}</span></code>) and instead use a fat-arrow (<code class="docutils literal notranslate"><span class="pre">=&gt;</span></code>).
Like in the example below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Person</span>
<span class="p">{</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">Name</span><span class="p">;</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="nf">Person</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">name</span><span class="p">)</span>
<span class="w">    </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="overloading">
<span id="constructor-overloading"></span><h3><span class="section-number">65.2.6. </span>Overloading<a class="headerlink" href="#overloading" title="Permalink to this heading">#</a></h3>
<p>Constructors are <a class="reference internal" href="overloading.html"><span class="doc std std-doc">overloadable</span></a>.
This is known as “constructor overloading” and means that we can define multiple constructors that differ in their parameter lists and have different implementations.
This is very useful since it, for example, allows us to define types that can be instantiated in very different ways.</p>
<p>In the case of our <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> class for example we might want another constructor with a single parameter called <code class="docutils literal notranslate"><span class="pre">size</span></code> instead of two called <code class="docutils literal notranslate"><span class="pre">width</span></code> and <code class="docutils literal notranslate"><span class="pre">height</span></code>.
As you might expect, the constructor with a single parameter creates a square since it sets both <code class="docutils literal notranslate"><span class="pre">Width</span></code> and <code class="docutils literal notranslate"><span class="pre">Height</span></code> fields to the <code class="docutils literal notranslate"><span class="pre">size</span></code> parameter.
It would look like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Rectangle</span>
<span class="p">{</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">;</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// One of two constructors.</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="nf">Rectangle</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">)</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">size</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// One of two constructors.</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="nf">Rectangle</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="p">)</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">width</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">width</span><span class="p">;</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">height</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Print</span><span class="w"> </span><span class="p">()</span>
<span class="w">    </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;x&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">height</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Whichever constructor is run depends on what arguments when pass when contructing the object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">Rectangle</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="m">3</span><span class="p">);</span>
<span class="n">Rectangle</span><span class="w"> </span><span class="n">rect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">);</span>

<span class="n">square</span><span class="p">.</span><span class="n">Print</span><span class="p">();</span>
<span class="n">rect</span><span class="p">.</span><span class="n">Print</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3x3
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>10x5
</pre></div>
</div>
</div>
</div>
</section>
<section id="constructor-chaining">
<h3><span class="section-number">65.2.7. </span>Constructor chaining<a class="headerlink" href="#constructor-chaining" title="Permalink to this heading">#</a></h3>
<p>When we’ve got multiple constructors in a class we can also do something called “constructor chaining”.
A constructor can call another constructor.
This is very helpful in <a class="reference internal" href="dont-repeat-yourself.html"><span class="doc std std-doc">eliminating duplication</span></a>.</p>
<p>Remember how we’ve talked about how the <code class="docutils literal notranslate"><span class="pre">this</span></code> keyword, in the constructor body, refers to the object that we’ve just created.
There is however one more use for the keyword in the context of constructors.
Namely, constructor chaining.</p>
<p>Constructor chaining essentially means calling another constructor from a constructor before we run the body of our constructor.
We do this by using the <code class="docutils literal notranslate"><span class="pre">this</span></code> keyword, <em>not</em> in the body of the constructor, but directly after the method signature.
The <code class="docutils literal notranslate"><span class="pre">this</span></code> keyword in that context acts like a call to a constructor.
We say “a” and not “the” since what constructor is called depends on what argument list we provide.</p>
<p>In the example below, we’re implementing the single parameter constructor in terms of the multi parameter constructor.
In other words, instead of assigning width and height in our single parameter constructor, we simply take the value that was passed to us and sends it on to the other constructor which will do the assigning.</p>
<p>This essentially the same idea as when we implemented one overload of the instance method <code class="docutils literal notranslate"><span class="pre">Scale</span></code> in the chapter on <a class="reference internal" href="instance-methods.html"><span class="doc std std-doc">instance methods</span></a> in terms of another overload.
While the elimination of duplication might seem trivial in both these examples you can hopefully see how exactly this technique can be used to eliminate much more elaborate duplication in the real world.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Rectangle</span>
<span class="p">{</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">;</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// One of two constructors.</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="nf">Rectangle</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="p">)</span>
<span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="k">this</span><span class="p">(</span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// One of two constructors.</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="nf">Rectangle</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="p">)</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">width</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">width</span><span class="p">;</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">height</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Print</span><span class="w"> </span><span class="p">()</span>
<span class="w">    </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;x&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">height</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="private-constructors">
<h3><span class="section-number">65.2.8. </span>Private constructors<a class="headerlink" href="#private-constructors" title="Permalink to this heading">#</a></h3>
<p>Perhaps you might have noticed that we marked our constructors in the examples above as <code class="docutils literal notranslate"><span class="pre">public</span></code>.
If a constructor can be <code class="docutils literal notranslate"><span class="pre">public</span></code>, can it then also be <code class="docutils literal notranslate"><span class="pre">private</span></code>?
Yes, it can.</p>
<p>But that makes no sense you might say.
How could I possibly construct an object if its constructor is <code class="docutils literal notranslate"><span class="pre">private</span></code>.
Two ways:</p>
<p>First, since constructors support overloading we can make some constructors <code class="docutils literal notranslate"><span class="pre">private</span></code> and some <code class="docutils literal notranslate"><span class="pre">public</span></code>.
Code outside our class can only access our <code class="docutils literal notranslate"><span class="pre">public</span></code> constructors, but any of our constructors can access all the <code class="docutils literal notranslate"><span class="pre">private</span></code> constructors.</p>
<p>Second, you might recall from the chapter on <a class="reference internal" href="basic-access-modifiers.html#access-modifiers"><span class="std std-ref">access modifiers</span></a> that <code class="docutils literal notranslate"><span class="pre">private</span></code> doesn’t mean private to that object but private to that <em>class</em>.
This means that we can have a <code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">static</span></code> method that calls our <code class="docutils literal notranslate"><span class="pre">private</span></code> constructor and returns the object created.</p>
<p>Why we would do this?
Remember the idea of <a class="reference internal" href="types-over-tests.html"><span class="doc std std-doc">making impossible states impossible</span></a> that we keep nagging about?
Remember the idea of <a class="reference internal" href="fail-fast.html#fail-fast"><span class="std std-ref">failing fast</span></a>?
That we should prefer compile-time over run-time errors?
Have a look at the class below.
It gives us a way of guaranteeing that all instances of the type <code class="docutils literal notranslate"><span class="pre">Vowel</span></code> at all times actually represent vowels.</p>
<div class="cell docutils container" id="constructors-private">
<div class="cell_input docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Vowel</span>
<span class="p">{</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">letter</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// Private constructor</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nf">Vowel</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">letter</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">upper</span><span class="p">)</span>
<span class="w">    </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">letter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">upper</span>
<span class="w">      </span><span class="o">?</span><span class="w"> </span><span class="n">Char</span><span class="p">.</span><span class="n">ToUpper</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>
<span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="n">Char</span><span class="p">.</span><span class="n">ToLower</span><span class="p">(</span><span class="n">letter</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Public static factory methods</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">Vowel</span><span class="w"> </span><span class="nf">MakeA</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">upper</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Vowel</span><span class="p">(</span><span class="sc">&#39;A&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">upper</span><span class="p">);</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">Vowel</span><span class="w"> </span><span class="nf">MakeE</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">upper</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Vowel</span><span class="p">(</span><span class="sc">&#39;E&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">upper</span><span class="p">);</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">Vowel</span><span class="w"> </span><span class="nf">MakeI</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">upper</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Vowel</span><span class="p">(</span><span class="sc">&#39;I&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">upper</span><span class="p">);</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">Vowel</span><span class="w"> </span><span class="nf">MakeO</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">upper</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Vowel</span><span class="p">(</span><span class="sc">&#39;O&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">upper</span><span class="p">);</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">Vowel</span><span class="w"> </span><span class="nf">MakeU</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">upper</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Vowel</span><span class="p">(</span><span class="sc">&#39;U&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">upper</span><span class="p">);</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">Vowel</span><span class="w"> </span><span class="nf">MakeY</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">upper</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Vowel</span><span class="p">(</span><span class="sc">&#39;Y&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">upper</span><span class="p">);</span>

<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="nf">ToChar</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">letter</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>We can now create perfectly valid vowels with our static factory methods.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">Vowel</span><span class="w"> </span><span class="n">vowel1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Vowel</span><span class="p">.</span><span class="n">MakeA</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>
<span class="n">Vowel</span><span class="w"> </span><span class="n">vowel2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Vowel</span><span class="p">.</span><span class="n">MakeE</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>

<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">vowel1</span><span class="p">.</span><span class="n">ToChar</span><span class="p">());</span>
<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">vowel2</span><span class="p">.</span><span class="n">ToChar</span><span class="p">());</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>A
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>e
</pre></div>
</div>
</div>
</div>
<p>We cannot however invoke the <code class="docutils literal notranslate"><span class="pre">private</span></code> constructor in order to create an instance of type <code class="docutils literal notranslate"><span class="pre">Vowel</span></code> that does not actually contain a vowel <code class="docutils literal notranslate"><span class="pre">char</span></code>.
If we try to do that then we get a compiler error.</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">Vowel</span><span class="w"> </span><span class="n">nope</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Vowel</span><span class="p">(</span><span class="sc">&#39;k&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(1,18): error CS1729: &#39;Vowel&#39; does not contain a constructor that takes 1 arguments
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="order">
<h3><span class="section-number">65.2.9. </span>Order<a class="headerlink" href="#order" title="Permalink to this heading">#</a></h3>
<p>Let’s quickly recap the order in which things are run.
First, field initializers are run, then any chained constructor, and then finally the body of the constructor.</p>
</section>
</section>
<section id="examples">
<h2><span class="section-number">65.3. </span>Examples<a class="headerlink" href="#examples" title="Permalink to this heading">#</a></h2>
<section id="exceptions">
<span id="exception-arguments"></span><h3><span class="section-number">65.3.1. </span>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this heading">#</a></h3>
<p>Remember how we discussed that <a class="reference internal" href="classes.html#throwing-exceptions"><span class="std std-ref">expections</span></a> are just regular classes and that we can instantiate and then throw them ourselves?
There are two things we must learn about exceptions when talking about constructors.</p>
<ol class="arabic simple">
<li><p>We can pass arguments to the constructor when instantiating an exception.</p></li>
<li><p>We can throw exceptions in our own constructors when users try to create instances of our type that doesn’t make sense.</p></li>
</ol>
<p>If an exception is just a class, then that means that when we are instantiating them we are running a constructor.
Which in turn means that the constructor might take arguments.</p>
<p>I’ve mentioned that we’ll make heavy use of the type <code class="docutils literal notranslate"><span class="pre">ArgumentException</span></code>, and it just so happens that this class, as many other exception classes in .NET, defines a constructor that takes a single <code class="docutils literal notranslate"><span class="pre">string</span></code> as an argument.
This <code class="docutils literal notranslate"><span class="pre">string</span></code> is the message that we want to send with the exception when it is thrown.</p>
<p>We can use this feature in order to tell the user more about what went wrong when something went wrong.
Have a look at how we’re using exceptions below to guarantee that a Balloon without a text cannot be created.</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Balloon</span>
<span class="p">{</span>
<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">Text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>

<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="nf">Balloon</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">text</span><span class="p">)</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">text</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">)</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nf">ArgumentException</span><span class="p">(</span><span class="s">$&quot;Text must be non-null and non-empty.&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">Text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">text</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>We know that we should prefer compile-time errors over run-time errors, but sometimes a compile-time error simply isn’t a reasonable option.
Under the maxim of <a class="reference internal" href="fail-fast.html#fail-fast"><span class="std std-ref">failing fast</span></a> it is in these cases better that we throw an exception right in the constructor rather than allowing an, in terms of our domain, “invalid” object to be created.
Letting the invalid object propagate in our system would allegedly only delay the error (in terms of time and space) and thus make it harder to recover from when it eventually occurrs.</p>
</section>
</section>
<section id="exercises">
<h2><span class="section-number">65.4. </span>Exercises<a class="headerlink" href="#exercises" title="Permalink to this heading">#</a></h2>
<div class="exercise admonition" id="chapters/constructors-exercise-0">

<p class="admonition-title"><span class="caption-number">Exercise 65.1 </span></p>
<section id="exercise-content">
<p>How can we make use of the keyword <code class="docutils literal notranslate"><span class="pre">this</span></code> in a constructor?</p>
</section>
</div>
<div class="exercise admonition" id="chapters/constructors-exercise-1">

<p class="admonition-title"><span class="caption-number">Exercise 65.2 </span></p>
<section id="exercise-content">
<p>What is constructor overloading and constructor chaining?
How do they relate to eachother?</p>
</section>
</div>
<div class="exercise admonition" id="chapters/constructors-exercise-2">

<p class="admonition-title"><span class="caption-number">Exercise 65.3 </span></p>
<section id="exercise-content">
<p>Write your own example that shows how constructor overloading works.</p>
</section>
</div>
<div class="exercise admonition" id="chapters/constructors-exercise-3">

<p class="admonition-title"><span class="caption-number">Exercise 65.4 </span></p>
<section id="exercise-content">
<p>Write your own example that shows how constructor chaining.</p>
</section>
</div>
<div class="exercise admonition" id="chapters/constructors-exercise-4">

<p class="admonition-title"><span class="caption-number">Exercise 65.5 </span></p>
<section id="exercise-content">
<p>Write your own class and constructors that demonstrate in which order the following three are run:
field initializers, a chained constructor, and the constructor body.</p>
</section>
</div>
<div class="exercise admonition" id="chapters/constructors-exercise-5">

<p class="admonition-title"><span class="caption-number">Exercise 65.6 </span></p>
<section id="exercise-content">
<p>The code below generates warnings and doesn’t behave as intended.
How do we get rid of the warning and make it behave as the programmer most likely intended it to behave like?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Cat</span>
<span class="p">{</span>
<span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="n">Name</span><span class="p">;</span>

<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="nf">Cat</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">Name</span><span class="p">)</span>
<span class="w">    </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Name</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(6,8): warning CS1717: Assignment made to same variable; did you mean to assign something else?

(3,10): warning CS0169: The field &#39;Cat.Name&#39; is never used
</pre></div>
</div>
</div>
</div>
</section>
</div>
<div class="exercise admonition" id="chapters/constructors-exercise-6">

<p class="admonition-title"><span class="caption-number">Exercise 65.7 </span></p>
<section id="exercise-content">
<p>In <a class="reference internal" href="instance-methods.html#ex:instance-methods:delta"><span class="std std-numref">Exercise 63.9</span></a> you wrote a class called <code class="docutils literal notranslate"><span class="pre">Point</span></code> that modeled a point in three-dimensional space.
Rewrite the class so that all instance fields are <code class="docutils literal notranslate"><span class="pre">private</span></code> and so that the fields are set via a constructor.</p>
<p>When you’re done, you should be able to run the following code and get the same result.</p>
<div class="cell tag_remove-input docutils container">
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">Point</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Point</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="m">30</span><span class="p">);</span>

<span class="n">Point</span><span class="w"> </span><span class="n">delta1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Point</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">);</span>
<span class="n">Point</span><span class="w"> </span><span class="n">delta2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Point</span><span class="p">(</span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="m">100</span><span class="p">);</span>

<span class="n">point</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">delta1</span><span class="p">);</span>
<span class="n">point</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">delta2</span><span class="p">);</span>

<span class="n">point</span><span class="p">.</span><span class="n">Print</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{X=111, Y=122, Z=133}
</pre></div>
</div>
</div>
</div>
</section>
</div>
<div class="exercise admonition" id="chapters/constructors-exercise-7">

<p class="admonition-title"><span class="caption-number">Exercise 65.8 </span></p>
<section id="exercise-content">
<p>When and why would you choose to expose a parameter through the constructor as opposed to through an instance method?
Explain using your own words.</p>
</section>
</div>
<div class="exercise admonition" id="ex:single-format-phone-numbers">

<p class="admonition-title"><span class="caption-number">Exercise 65.9 </span></p>
<section id="exercise-content">
<p>Write a class that can be used to represent one format of phone numbers for your country.
Rember the maxim <a class="reference internal" href="types-over-tests.html"><span class="doc std std-doc">types over tests</span></a>.
Illegal states should not be representable.
Also remember to <a class="reference internal" href="fail-fast.html#fail-fast"><span class="std std-ref">fail fast</span></a> and prefer compile-time over run-time errors.</p>
<div class="cell tag_remove-input docutils container">
</div>
<p>Hint:</p>
<div class="cell tag_hide-input tag_hide-output docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input above-output-prompt docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">PhoneNo</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PhoneNo</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">7</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">6</span><span class="p">,</span><span class="m">7</span><span class="p">);</span>
<span class="n">no</span><span class="p">.</span><span class="n">Print</span><span class="p">();</span>
</pre></div>
</div>
</div>
</details>
<details class="hide below-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell output</span>
<span class="expanded">Hide code cell output</span>
</summary>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>070-123 45 67
</pre></div>
</div>
</div>
</details>
</div>
</section>
</div>
<div class="exercise admonition" id="chapters/constructors-exercise-9">

<p class="admonition-title"><span class="caption-number">Exercise 65.10 </span></p>
<section id="exercise-content">
<p>In <a class="reference internal" href="#ex:single-format-phone-numbers"><span class="std std-numref">Exercise 65.9</span></a> you wrote a class that we can use to instantiate phone numbers without risking run-time errors.
Let’s now do the same thing for email.
Email is a much trickier format so it is understandable if you allow yourself to throw some run-time errors from the constructors.
But try to capture as many errors as you can at compile-time, meaning on the type-level.</p>
<p>Hint:</p>
<div class="cell tag_remove-input docutils container">
</div>
<div class="cell tag_hide-input tag_hide-output docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input above-output-prompt docutils container">
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="n">Email</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Email</span><span class="p">.</span><span class="n">MakeDotCom</span><span class="p">(</span><span class="s">&quot;user&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;example&quot;</span><span class="p">);</span>
<span class="n">email</span><span class="p">.</span><span class="n">Print</span><span class="p">();</span>
</pre></div>
</div>
</div>
</details>
<details class="hide below-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell output</span>
<span class="expanded">Hide code cell output</span>
</summary>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>user@example.com
</pre></div>
</div>
</div>
</details>
</div>
</section>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: ".net-csharp"
        },
        kernelOptions: {
            name: ".net-csharp",
            path: "./chapters"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = '.net-csharp'</script>
        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="properties.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><span class="section-number">66. </span>Properties</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="basic-access-modifiers.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><span class="section-number">64. </span>Access modifiers</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">65. Constructors</a><ul>
<li><a class="reference internal" href="#motivation">65.1. Motivation</a></li>
<li><a class="reference internal" href="#definition">65.2. Definition</a><ul>
<li><a class="reference internal" href="#default-constructor">65.2.1. Default constructor</a></li>
<li><a class="reference internal" href="#parameterless-constructor">65.2.2. Parameterless constructor</a></li>
<li><a class="reference internal" href="#constructor-parameters">65.2.3. Constructor parameters</a></li>
<li><a class="reference internal" href="#invocation">65.2.4. Invocation</a></li>
<li><a class="reference internal" href="#expression-bodied-members">65.2.5. Expression-bodied members</a></li>
<li><a class="reference internal" href="#overloading">65.2.6. Overloading</a></li>
<li><a class="reference internal" href="#constructor-chaining">65.2.7. Constructor chaining</a></li>
<li><a class="reference internal" href="#private-constructors">65.2.8. Private constructors</a></li>
<li><a class="reference internal" href="#order">65.2.9. Order</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">65.3. Examples</a><ul>
<li><a class="reference internal" href="#exceptions">65.3.1. Exceptions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#exercises">65.4. Exercises</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/custom.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    </body>
</html>